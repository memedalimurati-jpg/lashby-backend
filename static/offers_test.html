<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>OFFERS TEST</title>
</head>

<body style="font-family:Arial;background:#f6c9d3;padding:40px">

    <h1>OFFERS TEST</h1>

    <select id="service"></select>
    <select id="addon"></select>

<pre id="debug"></pre>

    <script>
const debug = document.getElementById("debug");
debug.textContent = "Starter...\n";

fetch("https://lashby-backend.onrender.com/offers_snapshot")
  .then(r => {
    debug.textContent += "HTTP " + r.status + "\n";
    return r.json();
  })
  .then(data => {
    debug.textContent += JSON.stringify(data, null, 2);

    const s = document.getElementById("service");
    const a = document.getElementById("addon");

    if (Array.isArray(data.services)) {
      data.services.forEach(x => {
        const o = document.createElement("option");
        o.textContent = x.name;
        s.appendChild(o);
      });
    }

    if (Array.isArray(data.tillegg)) {
      data.tillegg.forEach(x => {
        const o = document.createElement("option");
        o.textContent = x.navn;
        a.appendChild(o);
      });
    }
  })
  .catch(err => {
    debug.textContent += "\nFEIL: " + err;
  });
    </script>

</body>
</html>
